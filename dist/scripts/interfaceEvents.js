function initInterface(){window.kit.initializeCanvas(),initColorPickers(),kit.digest()}function initColorPickers(){var a=window.kit,b=new dhtmlXColorPicker("cpc-line",!1,!1,!1,!1),c=new dhtmlXColorPicker("cpc-bodybg",!1,!1,!1,!1),d=new dhtmlXColorPicker("cpc-bg",!1,!1,!1,!1);b.init(),c.init(),d.init(),b.setOnSelectHandler(setColor),c.setOnSelectHandler(setColor),d.setOnSelectHandler(setColor),b.setOnCancelHandler(function(){$(".cpc").hide()}),c.setOnCancelHandler(function(){$(".cpc").hide()}),d.setOnCancelHandler(function(){$(".cpc").hide()}),b.hide(),c.hide(),d.hide(),injectColor("bg-color",a.backgroundColor),injectColor("line-color",a.lineColor),injectColor("bodybg-color",a.bodybg),$("body, html").attr("style","background-color:#"+a.bodybg),$("#bg-color").click(function(){d.hide(),d.setColor($(this).attr("color")),currentSelector=$(this).attr("id"),$("#cpc-bg").attr("style","width: 252px;"),d.show()}),$("#bodybg-color").click(function(){c.hide(),c.setColor($(this).attr("color")),currentSelector=$(this).attr("id"),$("#cpc-bodybg").attr("style","width: 252px; top:53px;"),c.show()}),$("#line-color").click(function(){b.hide(),b.setColor($(this).attr("color")),currentSelector=$(this).attr("id"),$("#cpc-line").attr("style","width: 252px;"),b.show()})}function setColor(a){var b=window.kit;"bg-color"===currentSelector?($(currentSelector).attr("style","background-color:"+a+";"),$(currentSelector+" img").hide(),injectColor(currentSelector,a.substring(1)),$(currentSelector+"+ img").show(),b.backgroundColor=a.substring(1),b.redraw()):"line-color"===currentSelector?($(currentSelector).attr("style","background-color:"+a+";"),$(currentSelector+" img").hide(),injectColor(currentSelector,a.substring(1)),$(currentSelector+"+ img").show(),b.lineColor=a.substring(1),b.redraw()):"bodybg-color"===currentSelector&&($(currentSelector).attr("style","background-color:"+a+";"),$(currentSelector+" img").hide(),injectColor(currentSelector,a.substring(1)),$(currentSelector+"+ img").show(),$("body, html").attr("style","background-color:"+a)),$(".cpc").hide()}function injectColor(a,b){{var c=$("#"+a);new Array(kit._u.decodeFromHex(b.substring(0,2)),kit._u.decodeFromHex(b.substring(2,4)),kit._u.decodeFromHex(b.substring(4,6)))}return c.attr("style","background-color: #"+b),c.attr("color",b),!1}function initKeyboard(){document.addEventListener("keydown",keyDownHandler)}function keyDownHandler(a){if(1==kit.fieldFocus)return!1;var b=String.fromCharCode(a.keyCode);return"1"===b?kit.selectObject(0):"2"===b?kit.selectObject(1):"3"===b?kit.selectObject(2):"4"===b?kit.selectObject(3):"37"==a.keyCode||"%"==b?kit.selectPrev():"39"==a.keyCode||"'"==b?kit.selectNext():"A"==b?kit.stopScene():"S"==b?(kit.loopInit(),kit.sceneLoop()):"Q"==b?($(".edit-mode button").removeClass("active"),$("#edit-shape").addClass("active"),kit.editMode=kit.constants.EDIT_SHAPE,kit.redraw()):"W"==b?($(".edit-mode button").removeClass("active"),$("#edit-transform").addClass("active"),kit.editMode=kit.constants.EDIT_TRANSFORM,kit.redraw()):"E"==b&&($(".edit-mode button").removeClass("active"),$("#edit-none").addClass("active"),kit.editMode=kit.constants.EDIT_NONE,kit.redraw()),kit.digest(),!1}function getSampleJSON(){return $.parseJSON(sampleJSON)}var currentSelector;window.dhx_globalImgPath="styles/img/cp/";var paletteWidth=45,paletteHeight=45,sampleJSON='[{"backgroundColor":"010201","backgroundAlpha":"1","lineColor":"9fb4f4","sourceMode":"lighter","seamlessAnimation":true},{"fillImageSource":"styles/img/darkmountain.jpg"}, [["flower","12",1],["flower",6,2]],[{"obj":[{"shapePoints":[{"x":-0.5590233628997393,"y":-2.0863035929598417},{"x":12.1485961292003,"y":-128.88002328150233},{"x":-49.11165462656021,"y":-78.63714243359995},{"x":0,"y":-132.16734734352232}], "rotation":5.754529970058761,"scale":0.834656832,"position":{"x":250,"y":250}},{"shapePoints":[{"x":-30.122221832793045,"y":-17.391072883752692},{"x":85.9704641350211,"y":-161.39240506329114},{"x":10.021097046413503,"y":-69.62025316455697},{"x":0,"y":-227.27272727272725}], "rotation":0,"scale":0.948,"position":{"x":250,"y":250}}],"timing":1.0},{"obj":[{"shapePoints":[{"x":-66.54834810398798,"y":-248.36181628386313},{"x":49.62409043622804,"y":-209.6660121056433},{"x":-2.8280655533554153,"y":-179.2534302318673},{"x":0,"y":-216.07629402658225}], "rotation":5.754529970058761,"scale":0.834656832,"position":{"x":250,"y":250}},{"shapePoints":[{"x":-50.807731559059285,"y":-29.33385749253713},{"x":85.9704641350211,"y":-161.39240506329114},{"x":-104.957805907173,"y":-23.206751054852322},{"x":0,"y":-184.59915611814347}], "rotation":0,"scale":0.948,"position":{"x":250,"y":250}}],"timing":1.5},{"obj":[{"shapePoints":[{"x":-65.67787952632173,"y":-245.11318332562047},{"x":71.17540024282371,"y":-194.3026064157911},{"x":-49.58058173540719,"y":283.2295565935227},{"x":0,"y":-221.42302992745593}], "rotation":5.754529970058761,"scale":0.834656832,"position":{"x":250,"y":250}},{"shapePoints":[{"x":-50.807731559059285,"y":-29.33385749253713},{"x":179.8523206751055,"y":-123.41772151898735},{"x":-87.02531645569621,"y":-53.797468354430386},{"x":0,"y":-184.59915611814347}], "rotation":0,"scale":0.948,"position":{"x":250,"y":250}}],"timing":1.5},{"obj":[{"shapePoints":[{"x":-65.96639670082932,"y":-246.189944079739},{"x":71.17540024282371,"y":-194.3026064157911},{"x":-49.58058173540719,"y":283.2295565935227},{"x":0,"y":-221.42302992745593}], "rotation":6.278799370390794,"scale":0.831318204672,"position":{"x":250,"y":250}},{"shapePoints":[{"x":-50.807731559059285,"y":-29.33385749253713},{"x":186.54792286874587,"y":-75.04468951175927},{"x":-111.0347001039193,"y":-52.22737611648803},{"x":0,"y":-209.9105782470954}], "rotation":6.2783309763779105,"scale":0.948,"position":{"x":250,"y":250}}],"timing":1.5},{"obj":[{"shapePoints":[{"x":-65.96639670082932,"y":-246.189944079739},{"x":71.17540024282371,"y":-194.3026064157911},{"x":-49.58058173540719,"y":283.2295565935227},{"x":0,"y":-221.42302992745593}], "rotation":1.5707963267948966,"scale":0.831318204672,"position":{"x":250,"y":250}}, {"shapePoints":[{"x":-180.25999522596678,"y":-104.07315676783261},{"x":232.95851490149536,"y":-96.50532974597995},{"x":158.37056109488017,"y":-245.92687765652},{"x":0,"y":-151.39389500364405}], "rotation":1.5616641605754857,"scale":0.948,"position":{"x":250,"y":250}}],"timing":1.5},{"obj":[{"shapePoints":[{"x":-65.96639670082932,"y":-246.189944079739},{"x":71.17540024282371,"y":-194.3026064157911},{"x":-49.58058173540719,"y":283.2295565935227},{"x":0,"y":-221.42302992745593}], "rotation":3.1765783724183185,"scale":0.6015418529006592,"position":{"x":250,"y":250}},{"shapePoints":[{"x":-50.807731559059285,"y":-29.33385749253713},{"x":179.8523206751055,"y":-123.41772151898735},{"x":-87.02531645569621,"y":-53.797468354430386},{"x":0,"y":-184.59915611814347}], "rotation":3.1717559163149986,"scale":0.77736,"position":{"x":250,"y":250}}],"timing":1.5},{"obj":[{"shapePoints":[{"x":-62.29535079792313,"y":-232.48941425317554},{"x":71.17540024282371,"y":-194.3026064157911},{"x":-49.58058173540719,"y":283.2295565935227},{"x":0,"y":-183.37388641602942}], "rotation":4.702339067491655,"scale":0.34850189248977714,"position":{"x":250,"y":250}},{"shapePoints":[{"x":-50.807731559059285,"y":-29.33385749253713},{"x":179.8523206751055,"y":-123.41772151898735},{"x":-87.02531645569621,"y":-53.797468354430386},{"x":0,"y":-184.59915611814347}], "rotation":1.5939135951791896,"scale":0.337654848,"position":{"x":250,"y":250}}],"timing":1.5}]]';
//# sourceMappingURL=interfaceEvents.map