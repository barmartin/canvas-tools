{"version":3,"file":"cKit.min.js","sources":["../../build/scripts/cKit.min.js"],"names":["constants","t","Math","PI","SCENE_NORMAL","SCENE_GIF","EDIT_SHAPE","EDIT_TRANSFORM","EDIT_NONE","TWOPIDIV360","TWOPI","MAX_OBJECTS","DEFAULT_RAYS","DEFAULT_INNER_RADIUS_SCALAR","DEFAULT_OUTER_RADIUS_SCALAR","CONTROL_POINT_RADIUS","DEFAULT_LENGTH","BACKGROUND_COLOR","BACKGROUND_ALPHA","LINE_COLOR","BODY_BACKGROUND_COLOR","MAX_CLICK_DISTANCE","SOURCE_MODES","lighter","darker","xor","source-atop","source-out","source-over","destination-atop","destination-out","util","e","getPosition","i","getBoundingClientRect","x","clientX","left","y","clientY","top","clone","constructor","hasOwnProperty","dnexist","exists","encodeToHex","parseInt","toString","decodeFromHex","parseIntOrDefault","Number","isInteger","parseFloatOrDefault","parseFloat","isNaN","degreesToRadians","toRGB","this","substring","msTime","Date","getTime","each","s","length","n","window","kit","_u","getKeys","push","range","indexOf","console","log","removeArrayEntry","splice","debugConsole","document","getElementById","Vector","create","multiply","add","getPoint","sin","o","cos","a","getPolarPoint","rotate","r","distance","sqrt","getRadians","atan2","getDegrees","zeroVector","reflectMatrix","CPoint","parentObject","index","inDrag","draw","editMode","rotation","shapePoints","transformPoints","context","beginPath","moveTo","lineTo","stroke","arc","controlPointRadius","closePath","lineWidth","fillStyle","fill","mouseInside","scale","Transform","position","prototype","getMatrix","PetalFlower","petalCount","radialAccent","allPetals","firstPetal","thisAngle","increment","firstInnerAngle","center","scaleDistance","midWidth","lastScale","h","c","l","d","m","u","midHeight","createPetals","bezierCurveTo","fillImageExists","globalCompositeOperation","sourceMode","clip","fillImage","toggleCurveColor","updatePetal","updateTransform","transform","translateTranform","reverseTransformPoint","setScale","resetScalePoint","updateFirstPetal","setControlPoint","updateRadialPoint","keyFrames","obj","selectedObject","accentRadialPoint","drawShapePoints","save","restore","drawTransformPoints","getState","setState","redraw","core","initialized","updateMode","animationMode","segmentStartTime","segment","loopStartTime","setTime","pauseTime","frameDelay","gifFramerate","delta","sceneMode","encoder","delayTime","initList","pattern","bodybg","backgroundColor","lineColor","backgroundAlpha","canvasWidth","canvasHeight","maxRadius","seamlessAnimation","fieldFocus","settingShelf","objList","objTypes","resourceList","backgroundImageExists","debugMode","initializeCanvas","canvas","getContext","bindEvents","build","getSampleJSON","loadData","digest","initFrame","setTransform","clearRect","width","height","strokeStyle","drawImage","backgroundImage","fillRect","FillImage","src","page","label","image","Image","onload","createElement","translate","getRotationMatrix","canvasEvents","addEventListener","startDrag","endDrag","move","canvasMode","setRotation","constrain","sceneEvents","sceneLoop","stopScene","timing","GIF","gifComplete","updateSegment","addFrame","setTimeout","max","abs","segmentLoop","storeFrame","clearScene","removeKeyframe","removeLast","gifInit","setRepeat","setDelay","setSize","start","loopInit","finish","stream","getData","encode64","open","setTempModes","restoreModes","sceneReset","selectFirst","selectPrev","selectNext","selectLast","objectEvents","value","getRotation","floor","addFillImage","fillImageSource","addBackgroundImage","backgroundImageSource","updatePetalCount","updateRadialAccent","selectObject","addObject","removeObject","getImage","toDataURL","settingsEvents","getSettings","options","currentSelector","setColor","SOURCE_MODE","src_app","initKeyboard","GIFEncoder","initInterface","readyState"],"mappings":"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","sourcesContent":["/*! cKit.min.js v0.0.0 November 23, 2014 */\n\nvar constants=function(){var t=Math.PI;return{SCENE_NORMAL:0,SCENE_GIF:1,EDIT_SHAPE:0,EDIT_TRANSFORM:1,EDIT_NONE:2,PI:t,TWOPIDIV360:2*Math.PI/360,TWOPI:2*Math.PI,MAX_OBJECTS:4,DEFAULT_RAYS:6,DEFAULT_INNER_RADIUS_SCALAR:17,DEFAULT_OUTER_RADIUS_SCALAR:2.2,CONTROL_POINT_RADIUS:6,DEFAULT_LENGTH:1.5,BACKGROUND_COLOR:\"010201\",BACKGROUND_ALPHA:\"1\",LINE_COLOR:\"9fb4f4\",BODY_BACKGROUND_COLOR:\"020202\",MAX_CLICK_DISTANCE:2,SOURCE_MODES:{lighter:\"lighter\",darker:\"darker\",xor:\"xor\",\"source-atop\":\"atop\",\"source-out\":\"out\",\"source-over\":\"over\",\"destination-atop\":\"bottom\",\"destination-out\":\"bottom-out\"}}}({}),util=function(t,e){var e=e;return{getPosition:function(t,e){var i=e.getBoundingClientRect();return{x:t.clientX-i.left,y:t.clientY-i.top}},clone:function(t){if(null==t||\"object\"!=typeof t)return t;var e=t.constructor();for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},dnexist:function(t){return\"undefined\"==typeof t},exists:function(t){return\"undefined\"!=typeof t},encodeToHex:function(t){return parseInt(255*t).toString(16)},decodeFromHex:function(t){return parseInt(t,16)},parseIntOrDefault:function(t,e){return t=parseInt(t),Number.isInteger(t)?t:e},parseFloatOrDefault:function(t,e){return t=parseFloat(t),isNaN(t)?e:t},degreesToRadians:function(t){return e.TWOPIDIV360*t},toRGB:function(t){return[this.decodeFromHex(t.substring(0,2)),this.decodeFromHex(t.substring(2,4)),this.decodeFromHex(t.substring(4,6))]},msTime:function(){return(new Date).getTime()},each:function(t,e){if(null==t)return t;var i,s=t.length;if(s===+s)for(i=0;s>i;i++)e(t[i],i,t);else{var n=window.kit._u.getKeys(t);for(i=0,s=n.length;s>i;i++)e(t[n[i]],n[i],t)}return t},getKeys:function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e},range:function(t,e){for(var i=[],s=t;e>s;s++)i.push(s);return i},indexOf:function(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return console.log(\"There is a bug with a call to indexOf\"),-1},removeArrayEntry:function(t,e){t.splice(e,1)},debugConsole:function(){document.getElementById(\"console\")}}}({},constants),Vector=function(t,e){var e=e;return{create:function(t,e){return{x:t,y:e}},multiply:function(t,e){return t.x*=e,t.y*=e,t},add:function(t,e){return t.x+=e.x,t.y+=e.y,t},getPoint:function(t,e,i,s){var n=t+i*Math.sin(s),o=e-i*Math.cos(s),a=this.create(n,o);return a},getPolarPoint:function(t,e,i){var s=t.x+e*Math.sin(i),n=t.y-e*Math.cos(i),o=this.create(s,n);return o},rotate:function(t,e,i,s){var n=Math.cos(s),o=Math.sin(s),a=n*(i.x-t)-o*(i.y-e)+t,r=o*(i.x-t)+n*(i.y-e)+e;return this.create(a,r)},distance:function(t,e){var i=t.x-e.x,s=t.y-e.y;return Math.sqrt(i*i+s*s)},getRadians:function(t,i){var s=i.x-t.x,n=t.y-i.y,o=Math.atan2(s,n);return 0>o&&(o+=e.TWOPI),o},getDegrees:function(t,i){var s=i.x-t.x,n=t.y-i.y,o=Math.atan2(s,n)*e.TWOPIDIV360;return 0>o&&(o+=360),o},zeroVector:function(){return{x:0,y:0}},reflectMatrix:function(t){return[Math.cos(2*t),Math.sin(2*t),Math.sin(2*t),-Math.cos(2*t)]}}}({},constants),CPoint=function(t,e,i){var e=e,i=i,s=function(t,s,n,o,a){this.kit=t,this.x=s,this.y=n,this.parentObject=o,this.index=a,this.inDrag=!1,this.draw=function(){var t;if(t=this.kit.editMode!==e.EDIT_TRANSFORM||2!==this.index?i.rotate(0,0,this,o.rotation):this,this.inDrag){var s,n=o.shapePoints;this.kit.editMode===e.EDIT_TRANSFORM&&(n=o.transformPoints),1===this.index?(s=i.rotate(0,0,n[0],o.rotation),this.kit.context.beginPath(),this.kit.context.moveTo(t.x,t.y),this.kit.context.lineTo(s.x,s.y),this.kit.context.stroke()):2===this.index&&(s=this.kit.editMode===e.EDIT_TRANSFORM?n[0]:i.rotate(0,0,n[3],o.rotation),this.kit.context.beginPath(),this.kit.context.moveTo(t.x,t.y),this.kit.context.lineTo(s.x,s.y),this.kit.context.stroke())}this.kit.context.beginPath(),this.kit.context.arc(t.x,t.y,this.kit.controlPointRadius,0,2*Math.PI,!0),this.kit.context.closePath(),this.kit.context.lineWidth=1,this.inDrag?(this.kit.context.fillStyle=\"#999999\",this.kit.context.fill()):(this.kit.context.fillStyle=\"#FFFFFF\",this.kit.context.fill()),this.kit.context.stroke()},this.mouseInside=function(t){return this.kit.controlPointRadius+e.MAX_CLICK_DISTANCE>i.distance(t,this)*this.parentObject.scale}};return s}({},constants,Vector),Transform=function(){var t=function(t,e,i){this.position=t,this.scale=e,this.rotation=i};return t.prototype.getMatrix=function(){var t=Math.cos(this.rotation),e=Math.sin(this.rotation);return[this.scale*t,e,-e,this.scale*t,this.position.x,this.position.y]},t}({}),PetalFlower=function(t,e,i,s,n){var e=e,i=i,s=s,o=n,a=function(t,s,n,o,a,r){this.kit=t,this.petalCount=s,this.radialAccent=n,this.allPetals=[],this.firstPetal=[],this.thisAngle=0,this.increment=2*Math.PI/s,this.firstInnerAngle=-.5*this.increment*n,this.shapePoints=[],this.transformPoints=[],this.rotation=0,this.center=r,this.scaleDistance=this.kit.midWidth/2,this.scale=1,this.lastScale=1;var h,c,l,d;h=i.getPoint(0,0,o,this.firstInnerAngle);var m=(a-o)/2+o;c=i.getPoint(0,0,m,this.firstInnerAngle),l=i.getPoint(0,0,a,0),l.x=l.x-40,d=i.getPoint(0,0,a,0),this.firstPetal.push(h),this.shapePoints.push(new e(t,h.x,h.y,this,0)),this.shapePoints.push(new e(t,c.x,c.y,this,1)),this.firstPetal.push(c),this.shapePoints.push(new e(t,l.x,l.y,this,2)),this.firstPetal.push(l),this.shapePoints.push(new e(t,d.x,d.y,this,3)),this.firstPetal.push(d),this.firstPetal.push(i.create(-l.x,l.y)),this.firstPetal.push(i.create(-c.x,c.y)),this.firstPetal.push(i.create(-h.x,h.y)),this.transformPoints.push(new e(this.kit,0,0,this,0));var u=i.create(0,-this.kit.midHeight/2.5);i.rotate(0,0,u,this.rotation),this.transformPoints.push(new e(this.kit,u.x,u.y,this,1)),this.transformPoints.push(new e(this.kit,this.scaleDistance,0,this,2)),this.createPetals()};return a.prototype.draw=function(){var t=0,e=this,n=this.kit;n.context.beginPath(),o.each(this.allPetals,function(s){if(0===e.rotation)n.context.moveTo(s[0].x,s[0].y),n.context.bezierCurveTo(s[1].x,s[1].y,s[2].x,s[2].y,s[3].x,s[3].y),n.context.bezierCurveTo(s[4].x,s[4].y,s[5].x,s[5].y,s[6].x,s[6].y),n.context.moveTo(s[6].x,s[6].y),n.context.lineTo(s[0].x,s[0].y);else{for(var o=[],a=0;a<s.length;a++)o.push(i.rotate(0,0,s[a],e.rotation));n.context.moveTo(o[0].x,o[0].y),n.context.bezierCurveTo(o[1].x,o[1].y,o[2].x,o[2].y,o[3].x,o[3].y),n.context.bezierCurveTo(o[4].x,o[4].y,o[5].x,o[5].y,o[6].x,o[6].y),n.context.moveTo(o[6].x,o[6].y),n.context.lineTo(o[0].x,o[0].y)}t++}),n.context.closePath(),n.fillImageExists?(n.context.globalCompositeOperation=n.sourceMode,n.context.clip(),n.fillImage.draw(new s(this.center,this.scale,this.rotation),this),n.toggleCurveColor===!0&&(n.context.globalCompositeOperation=\"source-over\",n.context.lineWidth=1.9,n.context.stroke())):(n.context.globalCompositeOperation=\"source-over\",n.context.stroke())},a.prototype.createPetals=function(){this.allPetals.push(this.firstPetal);for(var t=1;t<this.petalCount;t++){var e=[],s=t*this.increment;o.each(this.firstPetal,function(t){var n=i.rotate(0,0,t,s);e.push(n)}),this.allPetals.push(e)}},a.prototype.updatePetal=function(t,e){var s=i.create(e.x,e.y);if(3===t)s.x=0,this.firstPetal[3].x=0,this.firstPetal[t].y=e.y;else if(0===t){var n=i.distance(i.create(0,0),i.create(e.x,e.y));s=i.getPoint(0,0,n,this.firstInnerAngle),this.firstPetal[0].x=s.x,this.firstPetal[0].y=s.y,this.firstPetal[6].x=-s.x,this.firstPetal[6].y=s.y}else this.firstPetal[t].x=e.x,this.firstPetal[6-t].x=-e.x,this.firstPetal[6-t].y=e.y,this.firstPetal[t].y=e.y;this.allPetals=[],this.createPetals(),this.shapePoints[t].x=s.x,this.shapePoints[t].y=s.y},a.prototype.updateTransform=function(t,e){var s=i.create(e.x,e.y);this.transformPoints[t].x=s.x,this.transformPoints[t].y=s.y},a.prototype.transform=function(){this.kit.context.transform(this.scale,0,0,this.scale,this.center.x,this.center.y)},a.prototype.translateTranform=function(){this.kit.context.transform(1,0,0,1,this.center.x,this.center.y)},a.prototype.reverseTransformPoint=function(t){var e=i.create(t.x-this.center.x,t.y-this.center.y);return e.x/=this.scale,e.y/=this.scale,e=i.rotate(0,0,e,-this.rotation)},a.prototype.setScale=function(t){this.scale=this.lastScale*t/this.scaleDistance},a.prototype.resetScalePoint=function(){this.transformPoints[2].x=this.scaleDistance},a.prototype.updateFirstPetal=function(){this.firstPetal[0].x=this.shapePoints[0].x,this.firstPetal[0].y=this.shapePoints[0].y,this.firstPetal[1].x=this.shapePoints[1].x,this.firstPetal[1].y=this.shapePoints[1].y,this.firstPetal[2].x=this.shapePoints[2].x,this.firstPetal[2].y=this.shapePoints[2].y,this.firstPetal[3].x=this.shapePoints[3].x,this.firstPetal[3].y=this.shapePoints[3].y,this.firstPetal[4].x=-this.shapePoints[2].x,this.firstPetal[4].y=this.shapePoints[2].y,this.firstPetal[5].x=-this.shapePoints[1].x,this.firstPetal[5].y=this.shapePoints[1].y,this.firstPetal[6].x=-this.shapePoints[0].x,this.firstPetal[6].y=this.shapePoints[0].y},a.prototype.setControlPoint=function(t,e){this.shapePoints[this.kit.indexOf(this.shapePoints,t)]=e},a.prototype.updateRadialPoint=function(){this.increment=2*Math.PI/this.petalCount,this.firstInnerAngle=-.5*this.increment*this.radialAccent;var t=this.kit,e=this;o.each(t.keyFrames,function(s){var n=s.obj[t.selectedObject].shapePoints[0],o=i.distance(i.zeroVector(),i.create(n.x,n.y)),a=i.getPolarPoint(i.zeroVector(),o,e.firstInnerAngle);n.x=a.x,n.y=a.y})},a.prototype.accentRadialPoint=function(t){this.radialAccent=t,this.increment=2*Math.PI/this.petalCount,this.firstInnerAngle=-.5*this.increment*t;var e=this.kit,s=this;o.each(e.keyFrames,function(t){var n=t.obj[e.selectedObject].shapePoints[0],o=i.distance(i.zeroVector(),i.create(n.x,n.y)),a=i.getPolarPoint(i.zeroVector(),o,s.firstInnerAngle);n.x=a.x,n.y=a.y})},a.prototype.drawShapePoints=function(){this.kit.context.save(),this.kit.context.transform(1,0,0,1,this.center.x,this.center.y);var t=this;o.each(this.shapePoints,function(i){var s=new e(t.kit,i.x*t.scale,i.y*t.scale,t,i.index);s.draw()}),this.kit.context.restore()},a.prototype.drawTransformPoints=function(){this.kit.context.save(),this.translateTranform(),this.transformPoints[0].draw(),this.transformPoints[1].draw(),this.transformPoints[2].draw(),this.kit.context.restore()},a.prototype.getState=function(){var t=[];return o.each(this.shapePoints,function(e){t.push(i.create(e.x,e.y))}),{shapePoints:t,rotation:this.rotation,scale:this.scale,position:this.center}},a.prototype.setState=function(t){var e=this.kit;this.rotation=t.rotation,this.center=t.position,this.scale=t.scale,e.index=0,o.each(this.shapePoints,function(i){i.x=t.shapePoints[e.index].x,i.y=t.shapePoints[e.index].y,e.index++}),this.allPetals=[],this.updateFirstPetal(),this.createPetals(),e.redraw()},a}({},CPoint,Vector,Transform,util),core=function(t,e,i,s,n){var e=e,o=i,s=s,n=n,a=function(){this.constants=e,this._u=o,this.initialized=!1,this.keyFrames=[],this.updateMode=!1,this.animationMode=!1,this.segmentStartTime=0,this.segment=0,this.loopStartTime=0,this.setTime=0,this.pauseTime=0,this.frameDelay=60,this.gifFramerate=200,this.delta=-this.frameDelay,this.sceneMode=e.SCENE_NORMAL,this.encoder=\"\",this.delayTime=0,this.initList=[\"flower\"],this.pattern=null,this.bodybg=e.BODY_BACKGROUND_COLOR,this.backgroundColor=e.BACKGROUND_COLOR,this.lineColor=e.LINE_COLOR,this.backgroundAlpha=e.BACKGROUND_ALPHA;var t=this._u.getKeys(e.SOURCE_MODES)[0];this.sourceMode=e.SOURCE_MODES[t],this.canvasWidth=500,this.canvasHeight=500,this.midWidth=this.canvasWidth/2,this.midHeight=this.canvasHeight/2,this.maxRadius=Math.sqrt(this.midWidth*this.midWidth+this.midHeight*this.midHeight),this.controlPointRadius=e.CONTROL_POINT_RADIUS,this.editMode=e.EDIT_SHAPE,this.toggleCurveColor=!1,this.seamlessAnimation=!0,this.fieldFocus=!1,this.settingShelf={toggleCurveColor:this.toggleCurveColor,editMode:this.editMode},this.objList=[],this.objTypes=[],this.selectedObject=0,this.resourceList={},this.backgroundImageExists=!1,this.fillImageExists=!1,this.debugMode=!0,this.initializeCanvas=function(){if(this.canvas=document.getElementById(\"canvas\"),this.context=this.canvas.getContext(\"2d\"),this.bindEvents(),this.build(),this.debugMode===!0){var t=window.getSampleJSON();this.loadData(t,!1)}this.initialized=!0,this.redraw()}};return a.prototype.digest=function(){},a.prototype.build=function(){var t=this;o.each(o.range(0,this.initList.length),function(i){\"flower\"===t.initList[i]&&(t.objList.push(new s(t,e.DEFAULT_RAYS,1,t.canvasHeight/e.DEFAULT_INNER_RADIUS_SCALAR,t.canvasHeight/e.DEFAULT_OUTER_RADIUS_SCALAR,n.create(t.midWidth,t.midHeight))),t.objTypes.push([\"flower\",e.DEFAULT_RAYS,1]))}),this.initFrame()},a.prototype.redraw=function(){if(this.initialized){if(this.context.save(),this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.restore(),this.context.strokeStyle=\"#\"+this.lineColor,this.backgroundImageExists)this.context.drawImage(this.backgroundImage,0,0,this.canvasWidth,this.canvasHeight);else{var t=o.toRGB(this.backgroundColor);this.context.fillStyle=\"rgba(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+this.backgroundAlpha+\")\",this.context.fillRect(0,0,this.canvasWidth,this.canvasHeight)}var i=this;o.each(this.objList,function(t){i.context.save(),t.transform(),t.draw(),i.context.restore()}),this.editMode===e.EDIT_SHAPE&&this.objList[i.selectedObject].drawShapePoints(),this.editMode===e.EDIT_TRANSFORM&&this.objList[i.selectedObject].drawTransformPoints()}},a}({},constants,util,PetalFlower,Vector),FillImage=function(t,e,i){var e=e,i=i,s=function(t,e,i){this.src=t,this.page=e,this.label=i,this.image=new Image,this.image.onload=function(){window.kit.fillImageExists=!0,window.kit.redraw()},this.image.src=this.src};return s.prototype.draw=function(t,s){var n=s.kit,o=e.getPolarPoint(e.create(0,0),n.maxRadius,s.firstInnerAngle/s.radialAccent+t.rotation),a=e.getPolarPoint(e.create(0,0),n.maxRadius,t.rotation),r=document.createElement(\"canvas\");r.width=n.canvasWidth,r.height=n.canvasHeight;var h=r.getContext(\"2d\");h.setTransform(1,0,0,1,s.center.x,s.center.y),h.save(),h.beginPath(),h.moveTo(0,0),h.lineTo(o.x,o.y),h.lineTo(a.x,a.y),h.closePath(),h.clip(),h.drawImage(this.image,-n.midWidth,-n.midHeight,n.canvasWidth,n.canvasHeight),h.stroke(),h.restore(),h.save();var c=e.reflectMatrix(t.rotation);h.setTransform(c[0],c[1],c[2],c[3],s.center.x,s.center.y),h.beginPath(),h.moveTo(0,0),h.lineTo(o.x,o.y),h.lineTo(a.x,a.y),h.closePath(),h.clip(),h.drawImage(this.image,-n.midWidth,-n.midHeight,n.canvasWidth,n.canvasHeight),h.stroke(),h.restore(),n.context.save(),n.context.translate(-s.center.x,-s.center.y);for(var l=0;l<s.petalCount;l++){var d=n.getRotationMatrix(i.TWOPI/s.petalCount);n.context.transform(d[0],d[1],d[2],d[3],s.center.x,s.center.y),n.context.translate(-s.center.x,-s.center.y),n.context.drawImage(r,0,0)}n.context.restore()},s}({},Vector,constants),canvasEvents=function(t,e,i,s,n,o){var a=e,i=i,s=s,r=n,o=o;return a.prototype.bindEvents=function(){this.canvas.addEventListener(\"touchstart\",this.startDrag,!1),this.canvas.addEventListener(\"touchend\",this.endDrag,!1),this.canvas.addEventListener(\"touchmove\",this.move,!1),this.canvas.addEventListener(\"mousedown\",this.startDrag,!1),this.canvas.addEventListener(\"mouseup\",this.endDrag,!1),this.canvas.addEventListener(\"mousemove\",this.move,!1)},a.prototype.startDrag=function(t){var e=window.kit;if(e.animationMode!==!0){var n=r.getPosition(t,e.canvas),o=e.objList[e.selectedObject];e.editMode===s.EDIT_SHAPE?r.each(o.shapePoints,function(t){var i=o.reverseTransformPoint(n);return t.mouseInside(i)?(t.inDrag=!0,e.canvasMode=\"cpDrag\",void e.redraw()):void 0}):e.editMode===s.EDIT_TRANSFORM&&r.each(o.transformPoints,function(t){var s;return 2!==t.index?(s=i.create(n.x-o.center.x,n.y-o.center.y),s=i.rotate(0,0,s,-o.rotation)):(o.lastScale=o.scale,s=i.create(n.x-o.center.x,n.y-o.center.y)),t.mouseInside(s)?(t.inDrag=!0,e.canvasMode=\"cpDrag\",void e.redraw()):void 0})}},a.prototype.endDrag=function(t){var e=window.kit;if(e.animationMode!==!0){e.canvasMode=\"static\",e.position=r.getPosition(t,e.canvas);var i=e.objList[e.selectedObject];e.editMode===s.EDIT_SHAPE?r.each(i.shapePoints,function(t){t.inDrag===!0&&(t.inDrag=!1,e.redraw())}):e.editMode===s.EDIT_TRANSFORM&&r.each(i.transformPoints,function(t){t.inDrag===!0&&(t.inDrag=!1,2===t.index&&(t.x=i.scaleDistance),e.redraw())}),e.getState(),e.digest()}},a.prototype.move=function(t){var e=window.kit;if(\"cpDrag\"===e.canvasMode&&e.animationMode!==!0){var s=e.objList[e.selectedObject],n=r.getPosition(t,e.canvas),a=s.reverseTransformPoint(n),h=0;e.editMode===e.constants.EDIT_SHAPE?r.each(s.shapePoints,function(t){if(t.inDrag){var i=new o(e,a.x,a.y,s,h);return i.inDrag=!0,s.updatePetal(h,i),void e.redraw()}h++}):e.editMode===e.constants.EDIT_TRANSFORM&&r.each(s.transformPoints,function(t){if(t.inDrag){if(0===h)s.center=n;else if(1===h){var o=i.create(n.x-s.center.x,n.y-s.center.y),a=i.getRadians(i.create(0,0),o);e.setRotation(a),e._u.debugConsole(a)}else if(2===h){var r=n.x-s.center.x;s.setScale(r),t.x=r}return void e.redraw()}h++})}},a.prototype.constrain=function(t){t.x<0?t.x=0:t.x>this.canvasWidth&&(t.x=this.canvasWidth),t.y<0?t.y=0:t.y>this.canvasHeight&&(t.y=this.canvasHeight)},a}({},core,Vector,constants,util,CPoint),sceneEvents=function(t,e,i,s,n,o,a){var r=e,i=i,h=s,n=n,o=o,a=a;return r.prototype.sceneLoop=function(){if(!this.animationMode||this.keyFrames.length<2)return this.stopScene(),void this.digest();this.sceneMode===i.SCENE_GIF?this.delta+=this.gifFramerate:this.delta=h.msTime()-this.segmentStartTime;var t=h.msTime();if(0===this.segment&&this.delta>=this.pauseTime)this.segment=1,this.delta=0,this.segmentStartTime=h.msTime();else if(0!==this.segment)if(this.delta>1e3*this.keyFrames[this.segment-1].timing)if(this.segment===this.keyFrames.length-1&&this.seamlessAnimation===!1)this.segment=0,this.setState(),this.segment=1,this.delta=0,this.segmentStartTime=h.msTime();else if(this.segment<this.keyFrames.length)this.setState(),this.segment++,this.sceneMode===this.GIF?this.delta=0:this.segmentStartTime=h.msTime();else{if(this.sceneMode===i.SCENE_GIF)return void this.gifComplete();this.segment=0,this.setState(),this.segmentStartTime=h.msTime()}else this.updateSegment(this.delta);if(this.digest(),this.sceneMode===i.SCENE_GIF)this.encoder.addFrame(this.context),setTimeout(function(){window.kit.sceneLoop()},.01);else{var e=h.msTime()-t;setTimeout(function(){window.kit.sceneLoop()},Math.max(0,window.kit.frameDelay-e))}},r.prototype.updateSegment=function(t){var e=this.segment;this.segment===this.keyFrames.length&&(e=0);var i=t/(1e3*this.keyFrames[e].timing),s=0,n=this;h.each(this.keyFrames[e].obj,function(t){var e=0,r=[],c=n.keyFrames[n.segment-1].obj[s];h.each(t.shapePoints,function(t){var a=c.shapePoints[e].x*(1-i)+t.x*i,h=c.shapePoints[e].y*(1-i)+t.y*i,l=new o(n,a,h,n.objList[s],e);r.push(l),e++});var l={shapePoints:r},d=c.rotation,m=t.rotation,u=m-d;Math.abs(u)>Math.PI&&(0>u?m+=2*Math.PI:d+=2*Math.PI),l.rotation=(d*(1-i)+m*i)%360,l.position=a.create(c.position.x*(1-i)+t.position.x*i,c.position.y*(1-i)+t.position.y*i),l.scale=c.scale*(1-i)+t.scale*i,n.objList[s].setState(l),s++})},r.prototype.segmentLoop=function(){if(!this.animationMode||0===this.segment)return this.setState(),void this.digest();var t=h.msTime()-this.loopStartTime-this.pauseTime;if(0>t)0!==this.setTime&&(this.segment--,this.setState(),this.segment++,this.setTime=0);else if(t>1e3*this.keyFrames[this.segment].timing)t>1e3*this.keyFrames[this.segment].timing+this.pauseTime?(this.loopStartTime=h.msTime(),this.segment--,this.setState(),this.segment++,this.setTime=0):this.setTime!==1e3*this.keyFrames[this.segment].timing&&(this.setState(),this.setTime=1e3*this.keyFrames[this.segment].timing);else{var e=t/(1e3*this.keyFrames[this.segment].timing),i=0,s=this;h.each(this.keyFrames[this.segment].obj,function(t){var n=0,r=[];h.each(t.shapePoints,function(t){var a=s.keyFrames[s.segment-1].obj[i].shapePoints[n].x*(1-e)+t.x*e,h=s.keyFrames[s.segment-1].obj[i].shapePoints[n].y*(1-e)+t.y*e,c=new o(s,a,h,s.objList[i],n);r.push(c),n++});var c={shapePoints:r},l=s.keyFrames[s.segment-1].obj[i],d=l.rotation,m=t.rotation,u=m-d;Math.abs(u)>180&&(0>u?m+=360:d+=360),c.rotation=(d*(1-e)+m*e)%360,c.position=a.create(l.center.x*(1-e)+t.center.x*e,l.center.y*(1-e)+t.center.y*e),c.scale=l.scale*(1-e)+t.scale*e,s.objList[i].setState(c),i++})}setTimeout(function(){window.kit.segmentLoop()},window.kit.frameDelay)},r.prototype.initFrame=function(){if(this.keyFrames[this.segment]={},this.keyFrames[this.segment].obj=[],this.segment>0){this.keyFrames[this.segment].timing=this.keyFrames[this.segment-1].timing;for(var t=0;t<this.objList;t++)this.keyFrames[this.segment].obj[t].rotation=this.keyFrames[this.segment-1].obj[t].rotation,this.keyFrames[this.segment].obj[t].center=this.keyFrames[this.segment-1].obj[t].center,this.keyFrames[this.segment].obj[t].scale=this.keyFrames[this.segment-1].obj[t].scale}else{this.keyFrames[this.segment].timing=i.DEFAULT_LENGTH;for(var e=0;e<this.objList;e++)this.keyFrames[this.segment].obj[e].rotation=0,this.keyFrames[this.segment].obj[e].position=new a(this.objList[0].center.x,this.objList[0].center.y),this.keyFrames[this.segment].obj[e].scale=1}this.storeFrame()},r.prototype.clearScene=function(){this.objList=[],this.objTypes=[],this.resourceList={},this.backgroundImageExists=!1,this.fillImageExists=!1,this.keyFrames=[],this.segment=0,this.objList.push(new n(this,i.DEFAULT_RAYS,1,this.canvasHeight/i.DEFAULT_INNER_RADIUS_SCALAR,this.canvasHeight/i.DEFAULT_OUTER_RADIUS_SCALAR,a.create(this.midWidth,this.midHeight))),this.objTypes.push([\"flower\",i.DEFAULT_RAYS,1]),this.selectedObject=0,this.initFrame(),this.redraw(),this.digest()},r.prototype.storeFrame=function(){for(var t=0;t<this.objList.length;t++)this.keyFrames[this.segment].obj[t]=this.objList[t].getState();this.objList[this.selectedObject].rotation},r.prototype.removeKeyframe=function(){this.keyFrames.length<2||(h.removeArrayEntry(this.keyFrames,this.segment),this.segment===this.keyFrames.length&&this.segment--,this.setState(),this.redraw(),this.digest())},r.prototype.removeLast=function(){this.keyFrames.length<2||(h.removeArrayEntry(this.keyFrames,this.keyFrames.length-1),this.segment===this.keyFrames.length&&this.segment--,this.setState(),this.redraw(),this.digest())},r.prototype.gifInit=function(){this.encoder.setRepeat(-1),this.encoder.setDelay(this.gifFramerate),this.encoder.setSize(this.canvasWidth,this.canvasHeight),this.encoder.start(),this.sceneMode=i.SCENE_GIF,this.loopInit(),this.redraw()},r.prototype.gifComplete=function(){this.encoder.finish();var t=this.encoder.stream().getData(),e=\"data:image/gif;base64,\"+window.encode64(t);window.open(e,\"_blank\"),this.sceneMode=i.SCENE_NORMAL,this.stopScene()},r.prototype.loopInit=function(){this.animationMode=!0,this.segment=0,this.loopStartTime=h.msTime(),this.segmentStartTime=this.loopStartTime,this.setTempModes(i.EDIT_NONE,!1)},r.prototype.stopScene=function(){this.restoreModes(),this.sceneReset()},r.prototype.sceneReset=function(){this.animationMode=!1,this.segment=0,this.setState(),this.redraw()},r.prototype.setState=function(){for(var t=0;t<this.objList.length;t++)this.objList[t].setState(this.keyFrames[this.segment].obj[t])},r.prototype.selectFirst=function(){this.segment=0,this.setState()},r.prototype.selectPrev=function(){if(this.segment>0){this.segment--;for(var t=0;t<this.objList.length;t++)this.objList[t].setState(this.keyFrames[this.segment].obj[t])}},r.prototype.selectNext=function(){this.segment++,this.segment>=this.keyFrames.length?this.initFrame():this.setState()},r.prototype.selectLast=function(){this.segment=this.keyFrames.length-1,this.setState()},r}({},core,constants,util,PetalFlower,CPoint,Vector),objectEvents=function(t,e,i,s,n,o,a){var r=e,i=i,h=s,n=n,o=o,a=a;return r.prototype.setState=function(){for(var t=0;t<this.objList.length;t++)this.objList[t].setState(this.keyFrames[this.segment].obj[t])},r.prototype.getState=function(){for(var t=0;t<this.objList.length;t++)this.keyFrames[this.segment].obj[t]=this.objList[t].getState();this.keyFrames[this.segment].timing=parseFloat(document.getElementById(\"length\").value)},r.prototype.getRotation=function(){var t=this.keyFrames[this.segment].obj[this.selectedObject].rotation/this.constants.TWOPIDIV360;return Math.floor(100*t)/100},r.prototype.getRotationMatrix=function(t){var e=Math.cos(t),i=Math.sin(t);return[e,i,-i,e,0,0]},r.prototype.setRotation=function(t){this.objList[this.selectedObject].rotation=t,this.keyFrames[this.segment].obj[this.selectedObject].rotation=t,this.objList[this.selectedObject].allPetals=[],this.objList[this.selectedObject].createPetals(),this.redraw()},r.prototype.addFillImage=function(t){this.fillImage=new a(t),this.resourceList.fillImageSource=t},r.prototype.addBackgroundImage=function(t){this.backgroundImage=new Image,this.backgroundImage.onload=function(){window.kit.backgroundImageExists=!0,window.kit.redraw()},this.backgroundImage.src=t,this.resourceList.backgroundImageSource=t},r.prototype.updatePetalCount=function(t){var e=this.objList[this.selectedObject];e instanceof o&&(this.objList[this.selectedObject]=new o(this,t,e.radialAccent,this.canvasHeight/i.DEFAULT_INNER_RADIUS_SCALAR,this.canvasHeight/i.DEFAULT_OUTER_RADIUS_SCALAR,n.create(this.midWidth,this.midHeight)),this.objTypes[this.selectedObject][1]=t,this.objList[this.selectedObject].updateRadialPoint(),this.setState(),this.redraw())},r.prototype.updateRadialAccent=function(t){this.objTypes[this.selectedObject][2]=t;var e=this.objList[this.selectedObject];t>0&&t<e.petalCount&&(e.accentRadialPoint(t),this.setState(),this.redraw())},r.prototype.selectObject=function(t){t=parseFloat(t),this.selectedObject!==t&&t<this.objList.length&&t<this.constants.MAX_OBJECTS&&t>=0&&(this.selectedObject=t,this.redraw(),this.digest())},r.prototype.addObject=function(){if(!(this.objList.length>=i.MAX_OBJECTS)){this.objList.push(new o(this,i.DEFAULT_RAYS,1,this.canvasHeight/i.DEFAULT_INNER_RADIUS_SCALAR,this.canvasHeight/i.DEFAULT_OUTER_RADIUS_SCALAR,n.create(this.midWidth,this.midHeight))),this.objTypes.push([\"flower\",i.DEFAULT_RAYS,1]);for(var t=0;t<this.keyFrames.length;t++)this.keyFrames[t].obj[this.objList.length-1]=this.objList[this.objList.length-1].getState(),this.keyFrames[t].obj[this.objList.length-1].timing=document.getElementById(\"length\").value;var e=this.objList.length-1;this.selectedObject=e,this.redraw(),this.digest()}},r.prototype.removeObject=function(){if(!(this.objList.length<2)){h.removeArrayEntry(this.objList,this.selectedObject),h.removeArrayEntry(this.objTypes,this.selectedObject);var t=this;h.each(this.keyFrames,function(e){h.removeArrayEntry(e.obj,t.selectedObject)}),this.selectedObject===this.objList.length&&this.selectedObject--,this.redraw(),this.digest()}},r.prototype.getImage=function(){this.setTempModes(i.EDIT_NONE,!1),this.redraw(),window.open(this.canvas.toDataURL(\"image/png\")),this.restoreModes(),this.redraw()},r}({},core,constants,util,Vector,PetalFlower,FillImage),settingsEvents=function(t,e,i,s,n,o){var a=e,i=i,r=s,n=n,o=o;return a.prototype.getSettings=function(){return{backgroundColor:this.backgroundColor,backgroundAlpha:this.backgroundAlpha,lineColor:this.lineColor,sourceMode:this.sourceMode,seamlessAnimation:this.seamlessAnimation}},a.prototype.loadData=function(t){this.objList=[],this.objTypes=[],this.resourceList=t[1],this.objTypes=t[2],this.keyFrames=t[3],this.objList=[];for(var e=0;e<this.objTypes.length;e++)\"flower\"===this.objTypes[e][0]&&this.objList.push(new n(this,this.objTypes[e][1],this.objTypes[e][2],this.canvasHeight/i.DEFAULT_INNER_RADIUS_SCALAR,this.canvasHeight/i.DEFAULT_OUTER_RADIUS_SCALAR,o.create(this.midWidth,this.midHeight)));this.options=t[0],this.backgroundColor=r.exists(this.options.backgroundColor)?this.options.backgroundColor:i.BACKGROUND_COLOR,this.backgroundAlpha=r.exists(this.options.backgroundAlpha)?this.options.backgroundAlpha:i.BACKGROUND_ALPHA,this.lineColor=r.exists(this.options.lineColor)?this.options.lineColor:i.LINE_COLOR,this.currentSelector=\"bg-color\",window.setColor(\"#\"+this.backgroundColor),this.currentSelector=\"line-color\",window.setColor(\"#\"+this.lineColor),this.sourceMode=r.exists(this.options.sourceMode)?this.options.sourceMode:i.SOURCE_MODE,this.seamlessAnimation=r.exists(this.options.seamlessAnimation)?this.options.seamlessAnimation:!0,this.backgroundImageExists=!1,this.fillImageExists=!1,\"string\"==typeof this.resourceList.backgroundImageSource&&this.addBackgroundImage(this.resourceList.backgroundImageSource),\"string\"==typeof this.resourceList.fillImageSource&&this.addFillImage(this.resourceList.fillImageSource),this.selectedObject=0,this.segment=0,this.setState()},a.prototype.setTempModes=function(t,e){this.settingShelf={editMode:this.editMode,toggleCurveColor:this.toggleCurveColor},this.editMode=t,this.toggleCurveColor=e},a.prototype.restoreModes=function(){this.editMode=this.settingShelf.editMode,this.toggleCurveColor=this.settingShelf.toggleCurveColor},a}({},core,constants,util,PetalFlower,Vector),src_app=function(t,e){var i=e,s=function(){window.kit=new i,initKeyboard(),i.encoder=new GIFEncoder,setTimeout(window.initInterface,400)};return\"complete\"===document.readyState?s():window.addEventListener(\"load\",s,!1),window.kit}({},core,constants,Vector,CPoint,Transform,FillImage,PetalFlower,canvasEvents,sceneEvents,objectEvents,settingsEvents);"]}