function Tween(a){!a.algorithm&&a.algo&&(a.algorithm=a.algo,delete a.algo),!a.properties&&a.props&&(a.properties=a.props,delete a.props);for(var b in a)this[b]=a[b];if(this.mode||(this.mode="EaseIn"),this.algorithm||(this.algorithm="Linear"),this.require("target","duration","properties"),"number"!=typeof this.duration)return alert("Tween: Duration is not a number");if("object"!=typeof this.properties)return alert("Tween: Properties is not an object");for(var b in this.properties){var c=this.properties[b];if("number"==typeof c&&(c=this.properties[b]={end:c}),"object"!=typeof c)return alert("Tween: Property "+b+" is not the correct format");if("undefined"==typeof c.start&&(c.start=this.target[b]),c.start.toString().match(/^([\d\.]+)([a-zA-Z]+)$/)&&!c.suffix&&(c.start=RegExp.$1,c.suffix=RegExp.$3,c.end=c.end.toString().replace(/[^\d\.]+$/,"")),"number"!=typeof c.start&&c.start.toString().match(/^\d+\.\d+$/)?c.start=parseFloat(c.start):"number"!=typeof c.start&&c.start.toString().match(/^\d+$/)&&(c.start=parseInt(c.start,10)),"number"!=typeof c.end&&c.end.toString().match(/^\d+\.\d+$/)?c.end=parseFloat(c.end):"number"!=typeof c.end&&c.end.toString().match(/^\d+$/)&&(c.end=parseInt(c.end,10)),"number"!=typeof c.start)return alert("Tween: Property "+b+": start is not a number");if("number"!=typeof c.end)return alert("Tween: Property "+b+": end is not a number");if(c.filter&&"function"!=typeof c.filter)return alert("Tween: Property "+b+": filter is not a function")}}function tweenFrame(a,b,c,d,e){return a+ease(c,d,e)*(b-a)}function ease(a,b,c){return EaseModes[b](a,c)}var TweenManager={_tweens:{},_nextId:1,add:function(a){var b=new Tween(a);return this._tweens[this._nextId]=b,b.id=this._nextId,this._nextId++,b},logic:function(a){for(var b in this._tweens){var c=this._tweens[b];c.logic(a),c.destroyed&&delete this._tweens[b]}},removeAll:function(){if(arguments.length){var a=arguments[0],b=0;for(var c in a)b++;for(var d in this._tweens){var e=this._tweens[d],f=0;for(var c in a)e[c]==a[c]&&f++;f==b&&(e.destroyed=1,delete this._tweens[d])}}else{for(var d in this._tweens){var e=this._tweens[d];e.destroyed=1}this._tweens={}}}};TweenManager.tween=TweenManager.add,Tween.prototype.destroyed=!1,Tween.prototype.delay=0,Tween.prototype.require=function(){for(var a=0,b=arguments.length;b>a;a++)if("undefined"==typeof this[arguments[a]])return alert("Tween: Missing required parameter: "+arguments[a]);return!0},Tween.prototype.logic=function(a){if(this.target.destroyed)return void(this.destroyed=!0);if(this.delay>0){if(this.delay--,!(this.delay<=0))return;this.start=a}this.start||(this.start=a),this.amount=(a-this.start)/this.duration,this.amount>=1&&(this.amount=1,this.destroyed=!0);for(var b in this.properties){var c=this.properties[b],d=c.start+ease(this.amount,this.mode,this.algorithm)*(c.end-c.start);c.filter&&(d=c.filter(d)),this.target[b]=c.suffix?""+d+c.suffix:d}this.onTweenUpdate&&this.onTweenUpdate(this),this.target.onTweenUpdate&&this.target.onTweenUpdate(this),this.destroyed&&(this.onTweenComplete&&this.onTweenComplete(this),this.target.onTweenComplete&&this.target.onTweenComplete(this))};var EaseAlgos={Linear:function(a){return a},Quadratic:function(a){return Math.pow(a,2)},Cubic:function(a){return Math.pow(a,3)},Quartetic:function(a){return Math.pow(a,4)},Quintic:function(a){return Math.pow(a,5)},Sine:function(a){return 1-Math.sin((1-a)*Math.PI/2)},Circular:function(a){return 1-Math.sin(Math.acos(a))}},EaseModes={EaseIn:function(a,b){return EaseAlgos[b](a)},EaseOut:function(a,b){return 1-EaseAlgos[b](1-a)},EaseInOut:function(a,b){return.5>=a?EaseAlgos[b](2*a)/2:(2-EaseAlgos[b](2*(1-a)))/2}};
//# sourceMappingURL=tween.map