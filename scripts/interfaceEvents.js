function initInterface(){window.kit.initializeCanvas(),initColorPickers(),kit.digest()}function initColorPickers(){var a=window.kit,b=new dhtmlXColorPicker("cpc-line",!1,!1,!1,!1),c=new dhtmlXColorPicker("cpc-bodybg",!1,!1,!1,!1),d=new dhtmlXColorPicker("cpc-bg",!1,!1,!1,!1);b.init(),c.init(),d.init(),b.setOnSelectHandler(setColor),c.setOnSelectHandler(setColor),d.setOnSelectHandler(setColor),b.setOnCancelHandler(function(){$(".cpc").hide()}),c.setOnCancelHandler(function(){$(".cpc").hide()}),d.setOnCancelHandler(function(){$(".cpc").hide()}),b.hide(),c.hide(),d.hide(),injectColor("bg-color",a.backgroundColor),injectColor("line-color",a.lineColor),injectColor("bodybg-color",a.bodybg),$("body, html").attr("style","background-color:#"+a.bodybg),$("#bg-color").click(function(){d.hide(),d.setColor($(this).attr("color")),currentSelector=$(this).attr("id"),$("#cpc-bg").attr("style","width: 252px;"),d.show()}),$("#bodybg-color").click(function(){c.hide(),c.setColor($(this).attr("color")),currentSelector=$(this).attr("id"),$("#cpc-bodybg").attr("style","width: 252px; top:53px;"),c.show()}),$("#line-color").click(function(){b.hide(),b.setColor($(this).attr("color")),currentSelector=$(this).attr("id"),$("#cpc-line").attr("style","width: 252px;"),b.show()})}function setColor(a){var b=window.kit;"bg-color"===currentSelector?($(currentSelector).attr("style","background-color:"+a+";"),$(currentSelector+" img").hide(),injectColor(currentSelector,a.substring(1)),$(currentSelector+"+ img").show(),b.backgroundColor=a.substring(1),b.redraw()):"line-color"===currentSelector?($(currentSelector).attr("style","background-color:"+a+";"),$(currentSelector+" img").hide(),injectColor(currentSelector,a.substring(1)),$(currentSelector+"+ img").show(),b.lineColor=a.substring(1),b.redraw()):"bodybg-color"===currentSelector&&($(currentSelector).attr("style","background-color:"+a+";"),$(currentSelector+" img").hide(),injectColor(currentSelector,a.substring(1)),$(currentSelector+"+ img").show(),$("body, html").attr("style","background-color:"+a)),$(".cpc").hide()}function injectColor(a,b){{var c=$("#"+a);new Array(kit._u.decodeFromHex(b.substring(0,2)),kit._u.decodeFromHex(b.substring(2,4)),kit._u.decodeFromHex(b.substring(4,6)))}return c.attr("style","background-color: #"+b),c.attr("color",b),!1}function initKeyboard(){document.addEventListener("keydown",keyDownHandler)}function keyDownHandler(a){if(1==kit.fieldFocus)return!1;var b=String.fromCharCode(a.keyCode);return"1"===b?kit.selectObject(0):"2"===b?kit.selectObject(1):"3"===b?kit.selectObject(2):"4"===b?kit.selectObject(3):"37"==a.keyCode||"%"==b?kit.selectPrev():"39"==a.keyCode||"'"==b?kit.selectNext():"A"==b?kit.stopScene():"S"==b?(kit.loopInit(),kit.sceneLoop()):"Q"==b?($(".edit-mode button").removeClass("active"),$("#edit-shape").addClass("active"),kit.editMode=kit.constants.EDIT_SHAPE,kit.redraw()):"W"==b?($(".edit-mode button").removeClass("active"),$("#edit-transform").addClass("active"),kit.editMode=kit.constants.EDIT_TRANSFORM,kit.redraw()):"E"==b&&($(".edit-mode button").removeClass("active"),$("#edit-none").addClass("active"),kit.editMode=kit.constants.EDIT_NONE,kit.redraw()),kit.digest(),!1}function getSampleJSON(){return $.parseJSON(sampleJSON)}var currentSelector;window.dhx_globalImgPath="styles/img/cp/";var paletteWidth=45,paletteHeight=45,sampleJSON='[{"backgroundColor":"010201","backgroundAlpha":"1","lineColor":"9fb4f4","sourceMode":"lighter","seamlessAnimation":true}, {"fillImageSource":"styles/img/darkmountain.jpg"},[["flower",6,2],["flower",12,1]],[{"obj":[{"shapePoints":[{"x":-7.9017,"y":-4.5621},{"x":-14.5,"y":-48}, {"x":-12.5,"y":-113},{"x":0,"y":-212}],"rotation":0,"scale":1,"position":{"x":250,"y":250}},{"shapePoints":[{"x":-59.6218,"y":-222.5118},{"x":-238.5,"y":-215}, {"x":-35.5,"y":-234},{"x":0,"y":-207}],"rotation":0,"scale":1,"position":{"x":250,"y":250}}],"timing":1.5},{"obj":[{"shapePoints":[{"x":-46.7674,"y":-27.0011}, {"x":-10.6255,"y":46.4042},{"x":15.0538,"y":-38.0741},{"x":0,"y":-228.406}],"rotation":1.0472,"scale":1,"position":{"x":250,"y":250}},{"shapePoints":[{"x":-59.5707,"y":-222.3209}, {"x":94.9698,"y":-18.4928},{"x":-22.4701,"y":-107.081},{"x":0,"y":-220.3439}],"rotation":1.0472,"scale":1,"position":{"x":250,"y":250}}],"timing":1.5}, {"obj":[{"shapePoints":[{"x":-56.3665,"y":-32.5432},{"x":-12.7665,"y":29.8876},{"x":-65.4994,"y":248.55},{"x":0,"y":-116.9375}], "rotation":2.0944,"scale":1,"position":{"x":250,"y":250}},{"shapePoints":[{"x":-59.353272788517614,"y":-221.50942964224305},{"x":124.9179,"y":114.3625},{"x":-24.5572,"y":-166.5329}, {"x":0,"y":-73.0907}],"rotation":2.0944,"scale":1,"position":{"x":250,"y":250}}],"timing":1.5},{"obj":[{"shapePoints":[{"x":-36.1688,"y":-20.8821},{"x":41.4995,"y":199.0001}, {"x":-48.5001,"y":54.9999},{"x":0,"y":-181}],"rotation":3.14159,"scale":1,"position":{"x":250,"y":250}},{"shapePoints":[{"x":-32.8824,"y":-122.7191},{"x":-104.5003,"y":119.9997}, {"x":-158.5006,"y":217.9996},{"x":0,"y":-174}],"rotation":3.14159,"scale":1,"position":{"x":250,"y":250}}],"timing":1.5},{"obj":[{"shapePoints":[{"x":-36.3963,"y":-21.0134}, {"x":239.082,"y":-98.1021},{"x":-113.2282,"y":24.1169},{"x":0,"y":-189.5952}],"rotation":4.18879,"scale":1,"position":{"x":250,"y":250}},{"shapePoints":[{"x":-30.2389,"y":-112.8532}, {"x":102.0461,"y":147.251},{"x":-71.2641,"y":-40.567},{"x":0,"y":-182.765}],"rotation":4.18879,"scale":1,"position":{"x":250,"y":250}}],"timing":1.5},{"obj":[{"shapePoints":[ {"x":-1.299,"y":-0.75},{"x":-163.3706,"y":-122.034},{"x":166.2007,"y":127.1321},{"x":0,"y":161.6275}],"rotation":5.75959,"scale":0.684,"position":{"x":250,"y":250}}, {"shapePoints":[{"x":-1.5861,"y":-5.9194}, {"x":67.2928,"y":184.0119},{"x":21.4111,"y":-132.8091},{"x":0,"y":133.0052}],"rotation":5.23599,"scale":1.034240832,"position": {"x":250,"y":250}}],"timing":1.5}]]';
//# sourceMappingURL=interfaceEvents.map