Class.create("Color",{red:0,green:0,blue:0,__construct:function(a,b,c){this.set(a,b,c)},set:function(a,b,c){this.red=a,this.green=b,this.blue=c}}),Class.create("Cycle",{rate:0,reverse:0,low:0,high:0,__construct:function(a,b,c,d){this.rate=a,this.rev=b,this.low=c,this.high=d}}),Class.create("Palette",{colors:null,baseColors:null,cycles:null,numColors:0,numCycles:0,__static:{PRECISION:100,USE_BLEND_SHIFT:1,CYCLE_SPEED:280,ENABLE_CYCLING:1,DFLOAT_MOD:function(a,b){return Math.floor(a*Palette.PRECISION)%Math.floor(b*Palette.PRECISION)/Palette.PRECISION}},__construct:function(a,b){this.colors=[],this.baseColors=[];for(var c=0,d=a.length;d>c;c++){var e=a[c];this.baseColors.push(new Color(e[0],e[1],e[2]))}this.cycles=[];for(var c=0,d=b.length;d>c;c++){var f=b[c];this.cycles.push(new Cycle(f.rate,f.reverse,f.low,f.high))}this.numColors=this.baseColors.length,this.numCycles=this.cycles.length},copyColors:function(a,b){for(var c=0,d=a.length;d>c;c++)b[c]||(b[c]=new Color),b[c].red=a[c].red,b[c].green=a[c].green,b[c].blue=a[c].blue},swapColors:function(a,b){var c;c=a.red,a.red=b.red,b.red=c,c=a.green,a.green=b.green,b.green=c,c=a.blue,a.blue=b.blue,b.blue=c},reverseColors:function(a,b){var c,d=b.high-b.low+1;for(c=0;d/2>c;c++)this.swapColors(a[b.low+c],a[b.high-c])},fadeColor:function(a,b,c,d){var e=new Color;return d?(0>c&&(c=0),c>d&&(c=d),e.red=Math.floor(a.red+(b.red-a.red)*c/d),e.green=Math.floor(a.green+(b.green-a.green)*c/d),e.blue=Math.floor(a.blue+(b.blue-a.blue)*c/d),e):a},shiftColors:function(a,b,c){var d,e,f;for(c=Math.floor(c),d=0;c>d;d++){for(f=a[b.high],e=b.high-1;e>=b.low;e--)a[e+1]=a[e];a[b.low]=f}},blendShiftColors:function(a,b,c){var d,e;this.shiftColors(a,b,c);var f=Math.floor((c-Math.floor(c))*Palette.PRECISION);for(e=a[b.high],d=b.high-1;d>=b.low;d--)a[d+1]=this.fadeColor(a[d+1],a[d],f,Palette.PRECISION);a[b.low]=this.fadeColor(a[b.low],e,f,Palette.PRECISION)},cycle:function(a,b,c,d){var e,f,g,h;if(this.copyColors(a,this.colors),Palette.ENABLE_CYCLING)for(e=0;e<this.numCycles;e++){var i=this.cycles[e];i.rate&&(f=i.high-i.low+1,g=i.rate/Math.floor(Palette.CYCLE_SPEED/c),i.reverse<3?h=Palette.DFLOAT_MOD(b/(1e3/g),f):3==i.reverse?(h=Palette.DFLOAT_MOD(b/(1e3/g),2*f),h>=f&&(h=2*f-h)):i.reverse<6&&(h=DFLOAT_MOD(b/(1e3/g),f),h=Math.sin(3.1415926*h*2/f)+1,4==i.reverse?h*=f/4:5==i.reverse&&(h*=f/2)),2==i.reverse&&this.reverseColors(this.colors,i),Palette.USE_BLEND_SHIFT&&d?this.blendShiftColors(this.colors,i,h):this.shiftColors(this.colors,i,h),2==i.reverse&&this.reverseColors(this.colors,i),i.cycleAmount=h)}},fade:function(a,b,c){var d;for(d=0;d<this.numColors;d++)this.colors[d]=this.fadeColor(this.colors[d],a.colors[d],b,c)},fadeToColor:function(a,b,c){var d;for(d=0;d<this.numColors;d++)this.colors[d]=this.fadeColor(this.colors[d],a,b,c)},burnOut:function(a,b){var c,d,e=Math.floor(255*(a/b));for(c=0;c<this.numColors;c++)d=this.colors[c],d.red-=e,d.red<0&&(d.red=0),d.green-=e,d.green<0&&(d.green=0),d.blue-=e,d.blue<0&&(d.blue=0)},getRawTransformedColors:function(){for(var a=[],b=0,c=this.colors.length;c>b;b++){var d=this.colors[b];a[b]=[d.red,d.green,d.blue]}return a}});
//# sourceMappingURL=palette.map